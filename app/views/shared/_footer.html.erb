<footer class="p-5 footer bg-light">

  <div>
    <div class="text-uppercase mb-3">Company</div>
    <div><%= link_to "Home", root_path, class: 'link link-hover' %></div>
    <div><a class="link link-hover">About</a></div>
    <div><a class="link link-hover">Pricing</a></div>
    <div><a class="link link-hover">Jobs</a></div>
  </div>

  <div>
    <div class="text-uppercase mb-3">Products and Services</div>
    <div><%= link_to "Templates", templates_index_path, class: 'link link-hover' %></div>
    <div><a class="link link-hover">Design</a></div>
    <div><a class="link link-hover">Marketing</a></div>
    <div><a class="link link-hover">Advertisement</a></div>
  </div>

  <div>
    <div class="text-uppercase mb-3">Legal</div>
    <div><%= link_to "Terms and Conditions", terms_path, class: 'link link-hover' %></div>
    <div><%= link_to "Privacy policy", privacy_path, class: 'link link-hover' %></div>
  </div>

  <div>
    <div class="text-uppercase mb-3">Newsletter</div>

    <% @lead = Lead.new %>

    <%= form_with(model: @lead, format: :json, id: "lead-form", local: false) do |form| %>

      <div style="width: 20rem;">
        <label class="label mb-2">
          <span class="label-text">Enter your email address</span>
        </label>

        <div class="input-group mb-3">
          <%= form.text_field :email, class: "form-control input-lg text-sm", placeholder: "Email" %>
          <%= form.submit 'Subscribe', class: "btn btn-primary text-sm fw-bold" %>
        </div>

        <div id="subscribeSuccess" class="d-none form-text text-success">Thank you for joining!</div>
        <div id="subscribeHelp" class="d-none form-text text-danger">This is not a valid email.</div>
      </div>

    <% end %>

  </div>

</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script>
    window.addEventListener("load", () => {
        const element = document.querySelector("#lead-form");
        element.addEventListener("ajax:success", (event) => {
            $( "#subscribeSuccess" ).removeClass( "d-none" )
            $( "#subscribeHelp" ).addClass( "d-none" );
        });
        element.addEventListener("ajax:error", () => {
            $( "#subscribeHelp" ).removeClass( "d-none" )
            $( "#subscribeSuccess" ).addClass( "d-none" );
        });
    });
</script>